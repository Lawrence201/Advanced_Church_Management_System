<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Church Management System</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <div class="container">
        <!-- Sidebar -->
        <div class="sidebar">
            <div class="logo">
               
                <svg class="church-logo" xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                    stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M10 9h4" />
                    <path d="M12 7v5" />
                    <path d="M14 22v-4a2 2 0 0 0-4 0v4" />
                    <path d="M18 22V5.618a1 1 0 0 0-.553-.894l-4.553-2.277a2 2 0 0 0-1.788 0L6.553 4.724A1 1 0 0 0 6 5.618V22" />
                    <path d="m18 7 3.447 1.724a1 1 0 0 1 .553.894V20a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9.618a1 1 0 0 1 .553-.894L6 7" />
                </svg>

            
                <div class="logo-text">
                    <h3>Church</h3>
                    <p>Management System</p>
                </div>
            
                <!-- Close button for mobile -->
                <button class="sidebar-close" onclick="toggleSidebar()">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                        stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <line x1="18" y1="6" x2="6" y2="18"></line>
                        <line x1="6" y1="6" x2="18" y2="18"></line>
                    </svg>
                </button>
            </div>
           
            <div class="sidebar-content">
                <div class="menu-section">
                    <div class="menu-label">Main Menu</div>
                    <a href="#" class="menu-item active">
                        <span><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                                stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                                class="lucide lucide-layout-dashboard h-5 w-5" data-lov-id="src/components/AppSidebar.tsx:110:22"
                                data-lov-name="item.icon" data-component-path="src/components/AppSidebar.tsx" data-component-line="110"
                                data-component-file="AppSidebar.tsx" data-component-name="item.icon"
                                data-component-content="%7B%22className%22%3A%22h-5%20w-5%22%7D">
                                <rect width="7" height="9" x="3" y="3" rx="1"></rect>
                                <rect width="7" height="5" x="14" y="3" rx="1"></rect>
                                <rect width="7" height="9" x="14" y="12" rx="1"></rect>
                                <rect width="7" height="5" x="3" y="16" rx="1"></rect>
                            </svg></span>
                        <span>Dashboard</span>
                    </a>
                    <a href="Members/members.html"class="menu-item">
                        <span>
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                                stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                                class="lucide lucide-users h-5 w-5" data-lov-id="src/components/AppSidebar.tsx:110:22"
                                data-lov-name="item.icon" data-component-path="src/components/AppSidebar.tsx" data-component-line="110"
                                data-component-file="AppSidebar.tsx" data-component-name="item.icon"
                                data-component-content="%7B%22className%22%3A%22h-5%20w-5%22%7D">
                                <path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"></path>
                                <circle cx="9" cy="7" r="4"></circle>
                                <path d="M22 21v-2a4 4 0 0 0-3-3.87"></path>
                                <path d="M16 3.13a4 4 0 0 1 0 7.75"></path>
                            </svg>
                        </span>
                        <span>Members</span>
                    </a>
                    <a href="Members/visitors_management.html" class="menu-item">
                        <span>
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                                stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                                class="lucide lucide-user-check h-5 w-5">
                                <path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"></path>
                                <circle cx="9" cy="7" r="4"></circle>
                                <polyline points="16 11 18 13 22 9"></polyline>
                            </svg>
                        </span>
                        <span>Visitors</span>
                    </a>
                    <a href="Events/events.html" class="menu-item">
                        <span>
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                                stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                                class="lucide lucide-calendar h-5 w-5" data-lov-id="src/components/AppSidebar.tsx:110:22"
                                data-lov-name="item.icon" data-component-path="src/components/AppSidebar.tsx" data-component-line="110"
                                data-component-file="AppSidebar.tsx" data-component-name="item.icon"
                                data-component-content="%7B%22className%22%3A%22h-5%20w-5%22%7D">
                                <path d="M8 2v4"></path>
                                <path d="M16 2v4"></path>
                                <rect width="18" height="18" x="3" y="4" rx="2"></rect>
                                <path d="M3 10h18"></path>
                            </svg>
                        </span>
                        <span>Events</span>
                    </a>
                    <a href="#" class="menu-item">
                        <span>
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                                stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                                class="lucide lucide-dollar-sign h-5 w-5" data-lov-id="src/components/AppSidebar.tsx:110:22"
                                data-lov-name="item.icon" data-component-path="src/components/AppSidebar.tsx" data-component-line="110"
                                data-component-file="AppSidebar.tsx" data-component-name="item.icon"
                                data-component-content="%7B%22className%22%3A%22h-5%20w-5%22%7D">
                                <line x1="12" x2="12" y1="2" y2="22"></line>
                                <path d="M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"></path>
                            </svg>
                        </span>
                        <span>Finances</span>
                    </a>
                    <a href="Communication/communication.html" class="menu-item">
                        <span><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                                stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                                class="lucide lucide-message-square h-5 w-5" data-lov-id="src/components/AppSidebar.tsx:110:22"
                                data-lov-name="item.icon" data-component-path="src/components/AppSidebar.tsx" data-component-line="110"
                                data-component-file="AppSidebar.tsx" data-component-name="item.icon"
                                data-component-content="%7B%22className%22%3A%22h-5%20w-5%22%7D">
                                <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path>
                            </svg>
                        </span>
                        <span>Communications</span>
                    </a>
                    <a href="Attendance/attendance.html" class="menu-item">
                        <span>
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-user-check h-5 w-5"
                                data-lov-id="src/components/AppSidebar.tsx:112:22" data-lov-name="item.icon"
                                data-component-path="src/components/AppSidebar.tsx" data-component-line="112" data-component-file="AppSidebar.tsx"
                                data-component-name="item.icon" data-component-content="%7B%22className%22%3A%22h-5%20w-5%22%7D">
                                <path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"></path>
                                <circle cx="9" cy="7" r="4"></circle>
                                <polyline points="16 11 18 13 22 9"></polyline>
                            </svg>
                        </span>
                        <span>Attendance</span>
                    </a>
                    <a href="Report/report.html" class="menu-item">
                        <span><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                                stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                                class="lucide lucide-chart-column h-5 w-5" data-lov-id="src/components/AppSidebar.tsx:110:22"
                                data-lov-name="item.icon" data-component-path="src/components/AppSidebar.tsx" data-component-line="110"
                                data-component-file="AppSidebar.tsx" data-component-name="item.icon"
                                data-component-content="%7B%22className%22%3A%22h-5%20w-5%22%7D">
                                <path d="M3 3v16a2 2 0 0 0 2 2h16"></path>
                                <path d="M18 17V9"></path>
                                <path d="M13 17V5"></path>
                                <path d="M8 17v-3"></path>
                            </svg>
                        </span>
                        <span>Reports</span>
                    </a>
                </div>
                
                <div class="menu-section">
                    <div class="menu-label">AI Features</div>
                <a href="AI/advanced_ai_insights.html" class="menu-item has-badge">
                    <span>
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M12 2L13.5 7.5H19L14.5 11L16 16.5L12 13L8 16.5L9.5 11L5 7.5H10.5L12 2Z" fill="currentColor"
                                opacity="0.2" />
                            <circle cx="12" cy="12" r="3" stroke="currentColor" stroke-width="1.5" />
                            <path d="M12 5V8" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" />
                            <path d="M12 16V19" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" />
                            <path d="M5 12H8" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" />
                            <path d="M16 12H19" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" />
                            <path d="M7.5 7.5L9.5 9.5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" />
                            <path d="M14.5 14.5L16.5 16.5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" />
                            <path d="M7.5 16.5L9.5 14.5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" />
                            <path d="M14.5 9.5L16.5 7.5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" />
                            <circle cx="12" cy="5" r="1.5" fill="currentColor" />
                            <circle cx="19" cy="12" r="1.5" fill="currentColor" />
                            <circle cx="12" cy="19" r="1.5" fill="currentColor" />
                            <circle cx="5" cy="12" r="1.5" fill="currentColor" />
                        </svg>

                    </span>
                    <span>AI Insights Pro</span>
                    <span class="badge">New</span>
                </a>
                    <a href="AI/members_analytics.html" class="menu-item has-badge">
                        <span><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                                stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                                class="lucide lucide-chart-column h-5 w-5" data-lov-id="src/components/AppSidebar.tsx:131:22"
                                data-lov-name="item.icon" data-component-path="src/components/AppSidebar.tsx" data-component-line="131"
                                data-component-file="AppSidebar.tsx" data-component-name="item.icon"
                                data-component-content="%7B%22className%22%3A%22h-5%20w-5%22%7D">
                                <path d="M3 3v16a2 2 0 0 0 2 2h16"></path>
                                <path d="M18 17V9"></path>
                                <path d="M13 17V5"></path>
                                <path d="M8 17v-3"></path>
                            </svg></span>
                        <span>Member Analytics</span>
                        <span class="badge">New</span>
                    </a>
                    <a href="AI/ai_smart_report.html" class="menu-item has-badge">
                        <span><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                                stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                                class="lucide lucide-file-text h-5 w-5" data-lov-id="src/components/AppSidebar.tsx:131:22"
                                data-lov-name="item.icon" data-component-path="src/components/AppSidebar.tsx" data-component-line="131"
                                data-component-file="AppSidebar.tsx" data-component-name="item.icon"
                                data-component-content="%7B%22className%22%3A%22h-5%20w-5%22%7D">
                                <path d="M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z"></path>
                                <path d="M14 2v4a2 2 0 0 0 2 2h4"></path>
                                <path d="M10 9H8"></path>
                                <path d="M16 13H8"></path>
                                <path d="M16 17H8"></path>
                            </svg></span>
                        <span>Smart Reports</span>
                        <span class="badge">New</span>
                    </a>
                </div>
                
                <div class="menu-section">
                    <div class="menu-label">Quick Actions</div>
                    <a href="Add_Members/enroll_members.html" class="menu-item">
                        <span><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                                stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                                class="lucide lucide-user-plus h-5 w-5" data-lov-id="src/components/AppSidebar.tsx:151:22"
                                data-lov-name="item.icon" data-component-path="src/components/AppSidebar.tsx" data-component-line="151"
                                data-component-file="AppSidebar.tsx" data-component-name="item.icon"
                                data-component-content="%7B%22className%22%3A%22h-5%20w-5%22%7D">
                                <path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"></path>
                                <circle cx="9" cy="7" r="4"></circle>
                                <line x1="19" x2="19" y1="8" y2="14"></line>
                                <line x1="22" x2="16" y1="11" y2="11"></line>
                            </svg></span>
                        <span>Add Member</span>
                    </a>
                    <a href="Add_Event/New_Event.html" class="menu-item">
                        <span><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                                stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                                class="lucide lucide-calendar h-5 w-5" data-lov-id="src/components/AppSidebar.tsx:151:22"
                                data-lov-name="item.icon" data-component-path="src/components/AppSidebar.tsx" data-component-line="151"
                                data-component-file="AppSidebar.tsx" data-component-name="item.icon"
                                data-component-content="%7B%22className%22%3A%22h-5%20w-5%22%7D">
                                <path d="M8 2v4"></path>
                                <path d="M16 2v4"></path>
                                <rect width="18" height="18" x="3" y="4" rx="2"></rect>
                                <path d="M3 10h18"></path>
                            </svg></span>
                        <span>New Event</span>
                    </a>
                    <a href="Record_Donations/record_donations.html" class="menu-item">
                        <span class="icon">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path
                                    d="M20 10C20 6.5 17 4 14 4C12.5 4 11.2 4.6 10.3 5.6C9.9 5.2 9.4 5 8.8 5C7.3 5 6 6.3 6 7.8C6 8.4 6.2 8.9 6.5 9.3C4.5 10.2 3 12.2 3 14.5C3 17.5 5.5 20 8.5 20H16.5C19 20 21 18 21 15.5C21 13.2 19.5 11.3 17.5 10.5C18.4 10.8 19 11.7 19 12.7"
                                    stroke="currentColor" stroke-width="1.5" stroke-linecap="round" />
                                <path d="M12 20C11.4 20 9.5 19.5 8.5 19" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" />
                                <circle cx="12" cy="8" r="1" fill="currentColor" />
                                <path d="M12 11V15M10 13H14" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" />
                                <path
                                    d="M8.5 4C9.5 3 11 3 12 4C13 3 14.5 3 15.5 4C16 4.5 16 5.5 16 6C16 7 15 8 12 10C9 8 8 7 8 6C8 5.5 8 4.5 8.5 4Z"
                                    fill="currentColor" opacity="0.2" />
                                <path
                                    d="M12 5.5C10.5 4 9 4 8 5C7 6 7 7.5 7 8.5C7 10 8.5 11.5 12 14C15.5 11.5 17 10 17 8.5C17 7.5 17 6 16 5C15 4 13.5 4 12 5.5Z"
                                    stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" />
                            </svg>
                        </span>
                       
                        <span>Record Donation</span>
                    </a>
                    <a href="Send_Message/send_message.html" class="menu-item">
                        <span><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                                stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                                class="lucide lucide-bell h-5 w-5" data-lov-id="src/components/AppSidebar.tsx:151:22"
                                data-lov-name="item.icon" data-component-path="src/components/AppSidebar.tsx" data-component-line="151"
                                data-component-file="AppSidebar.tsx" data-component-name="item.icon"
                                data-component-content="%7B%22className%22%3A%22h-5%20w-5%22%7D">
                                <path d="M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9"></path>
                                <path d="M10.3 21a1.94 1.94 0 0 0 3.4 0"></path>
                            </svg></span>
                        <span>Send Message</span>
                    </a>
                </div>
                
                <div class="menu-section">
                    <div class="menu-label"></div>
                    <a href="Settings/settings.html" class="menu-item">
                        <span><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                                stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                                class="lucide lucide-settings h-5 w-5" data-lov-id="src/components/AppSidebar.tsx:166:18"
                                data-lov-name="Settings" data-component-path="src/components/AppSidebar.tsx" data-component-line="166"
                                data-component-file="AppSidebar.tsx" data-component-name="Settings"
                                data-component-content="%7B%22className%22%3A%22h-5%20w-5%22%7D">
                                <path
                                    d="M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z">
                                </path>
                                <circle cx="12" cy="12" r="3"></circle>
                            </svg></span>
                        <span>Settings</span>
                    </a>
                
                </div>

            </div>

            
        </div>
        

        <!-- Main Content -->
        <div class="main-content">
            <!-- Header -->
            <div class="header">
                <button class="mobile-menu-toggle" onclick="toggleSidebar()">☰</button>
                <div class="search-bar">
                    <input type="text" class="search-input" placeholder="Search members, events, or anything...">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-search absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground" data-lov-id="src/components/Layout.tsx:24:16" data-lov-name="Search" data-component-path="src/components/Layout.tsx" data-component-line="24" data-component-file="Layout.tsx" data-component-name="Search" data-component-content="%7B%22className%22%3A%22absolute%20left-3%20top-1%2F2%20transform%20-translate-y-1%2F2%20h-4%20w-4%20text-muted-foreground%22%7D"><circle cx="11" cy="11" r="8"></circle><path d="m21 21-4.3-4.3"></path></svg>
                </div>
                <div class="header-right">
                    <div class="notification-icon">
                        <span style="font-size: 20px;"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                            stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-bell h-5 w-5"
                            data-lov-id="src/components/AppSidebar.tsx:151:22" data-lov-name="item.icon"
                            data-component-path="src/components/AppSidebar.tsx" data-component-line="151" data-component-file="AppSidebar.tsx"
                            data-component-name="item.icon" data-component-content="%7B%22className%22%3A%22h-5%20w-5%22%7D">
                            <path d="M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9"></path>
                            <path d="M10.3 21a1.94 1.94 0 0 0 3.4 0"></path>
                        </svg>
                    </span>
                        <span class="notification-badge">0</span>
                    </div>
                    <div class="user-profile">
                        <span style="font-size: 14px; font-weight: 500;">Pastor Lawrence</span>
                        <span style="font-size: 20px;"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                            stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-user h-5 w-5"
                            data-lov-id="src/components/Layout.tsx:41:16" data-lov-name="User" data-component-path="src/components/Layout.tsx"
                            data-component-line="41" data-component-file="Layout.tsx" data-component-name="User"
                            data-component-content="%7B%22className%22%3A%22h-5%20w-5%22%7D">
                            <path d="M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"></path>
                            <circle cx="12" cy="7" r="4"></circle>
                        </svg>
                    </span>
                    </div>
                </div>
            </div>
            <script>
                function toggleSidebar() {
                    const sidebar = document.querySelector('.sidebar');
                    sidebar.classList.toggle('open');
                }

                // Close sidebar when clicking outside on mobile
                document.addEventListener('click', function (event) {
                    const sidebar = document.querySelector('.sidebar');
                    const toggle = document.querySelector('.mobile-menu-toggle');

                    if (window.innerWidth <= 768 &&
                        !sidebar.contains(event.target) &&
                        !toggle.contains(event.target) &&
                        sidebar.classList.contains('open')) {
                        sidebar.classList.remove('open');
                    }
                });
            </script>

            <div class="dashboard-content">
                <div class="dashboard-header">
                    <div class="dashboard-header-text">
                        <h1>Church Dashboard</h1>
                        <p>Welcome back, Pastor John. Here's what's happening at your church.</p>
                    </div>
                    <div class="header-actions">
                        <a href="Report/report.html" class="btn btn-secondary">
                            <span>
                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                                    stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                                    class="lucide lucide-chart-column h-5 w-5">
                                    <path d="M3 3v16a2 2 0 0 0 2 2h16"></path>
                                    <path d="M18 17V9"></path>
                                    <path d="M13 17V5"></path>
                                    <path d="M8 17v-3"></path>
                                </svg>
                            </span>
                            <span>View Reports</span>
                        </a>
                        
                        <a href="AI/ai_insight.html" class="btn btn-primary">
                            <span class="icon">
                                <img src="Assests/creative.png" alt="AI Insights" style="width: 20px; height: 20px; vertical-align: middle;">
                            </span>
                            <span>AI Insights</span>
                        </a>
                        <style>
                            a.btn {
                              text-decoration: none;
                              display: inline-flex;
                              align-items: center;
                              gap: 0.5rem;
                             }
                        </style>

                       
                    </div>
                </div>


                <!-- AI Insights -->
                <div class="insights-section">
                    <div class="insights-header">
                        <span class="insight-icon">
                            <img src="Assests/chatbot.png" alt="AI Insights">
                        </span>
                        <h2>AI-Powered Insights</h2>
                    </div>

                   
                    <div class="insights-grid" id="insightsGrid">
                        <!-- Insights will be loaded dynamically from database -->
                        <div class="insight-card" style="text-align: center; padding: 20px;">
                            <p style="color: #94a3b8;">Loading insights...</p>
                        </div>
                    </div>
                </div>

                <!-- Stats Grid -->
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-header">
                            <span class="stat-title">Total Members</span>
                            <div class="stat-icon blue"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                                class="lucide lucide-users h-4 w-4 text-muted-foreground" data-lov-id="src/pages/Dashboard.tsx:112:12"
                                data-lov-name="Users" data-component-path="src/pages/Dashboard.tsx" data-component-line="112"
                                data-component-file="Dashboard.tsx" data-component-name="Users"
                                data-component-content="%7B%22className%22%3A%22h-4%20w-4%20text-muted-foreground%22%7D">
                                <path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"></path>
                                <circle cx="9" cy="7" r="4"></circle>
                                <path d="M22 21v-2a4 4 0 0 0-3-3.87"></path>
                                <path d="M16 3.13a4 4 0 0 1 0 7.75"></path>
                            </svg>
                        </div>
                        </div>
                        <div class="stat-value">0</div>
                        <div class="stat-change">+12</div>
                    </div>

                    <div class="stat-card">
                        <div class="stat-header">
                            <span class="stat-title"> Total Events</span>
                            <div class="stat-icon purple"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                                class="lucide lucide-calendar h-4 w-4 text-muted-foreground" data-lov-id="src/pages/Dashboard.tsx:138:12"
                                data-lov-name="Calendar" data-component-path="src/pages/Dashboard.tsx" data-component-line="138"
                                data-component-file="Dashboard.tsx" data-component-name="Calendar"
                                data-component-content="%7B%22className%22%3A%22h-4%20w-4%20text-muted-foreground%22%7D">
                                <path d="M8 2v4"></path>
                                <path d="M16 2v4"></path>
                                <rect width="18" height="18" x="3" y="4" rx="2"></rect>
                                <path d="M3 10h18"></path>
                            </svg></div>
                        </div>
                        <div class="stat-value">0</div>
                        <div class="stat-change">+2</div>
                    </div>

                    <div class="stat-card">
                        <div class="stat-header">
                            <span class="stat-title">Total Income</span>
                            <div class="stat-icon green"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                                class="lucide lucide-dollar-sign h-4 w-4 text-muted-foreground" data-lov-id="src/pages/Dashboard.tsx:125:12"
                                data-lov-name="DollarSign" data-component-path="src/pages/Dashboard.tsx" data-component-line="125"
                                data-component-file="Dashboard.tsx" data-component-name="DollarSign"
                                data-component-content="%7B%22className%22%3A%22h-4%20w-4%20text-muted-foreground%22%7D">
                                <line x1="12" x2="12" y1="2" y2="22"></line>
                                <path d="M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"></path>
                            </svg></div>
                        </div>
                        <div class="stat-value">Ghc0</div>
                        <div class="stat-change">+0</div>
                    </div>

                    <div class="stat-card">
                        <div class="stat-header">
                            <span class="stat-title">Total Messages Sent</span>
                            <div class="stat-icon orange"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-bell h-5 w-5"
                                data-lov-id="src/components/AppSidebar.tsx:151:22" data-lov-name="item.icon"
                                data-component-path="src/components/AppSidebar.tsx" data-component-line="151" data-component-file="AppSidebar.tsx"
                                data-component-name="item.icon" data-component-content="%7B%22className%22%3A%22h-5%20w-5%22%7D">
                                <path d="M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9"></path>
                                <path d="M10.3 21a1.94 1.94 0 0 0 3.4 0"></path>
                            </svg></div>
                        </div>
                        <div class="stat-value">0</div>
                        <div class="stat-change">+0</div>
                    </div>
                </div>

                <!-- Charts -->
                <div class="charts-grid">
                    <div class="chart-card">
                        <div class="chart-header">
                            <h3>Monthly Attendance Trends</h3>
                            <p class="chart-subtitle">Monthly attendance vs targets</p>
                        </div>
                        <div class="chart-container">
                            <canvas id="attendanceChart"></canvas>
                        </div>
                    </div>

                    <div class="chart-card">
                        <div class="chart-header">
                            <h3>Financial Income Trends</h3>
                            <p class="chart-subtitle">Monthly income from all sources</p>
                        </div>
                        <div class="chart-container">
                            <canvas id="donationChart"></canvas>
                        </div>
                    </div>
                </div>

                <!-- Three Column Section -->
                <div class="three-column-grid">
                    <!-- Quick Actions -->
                    <div class="quick-actions">
                        <div class="section-header">
                            <span style="font-size: 20px;"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="orange"
                                stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-activity h-5 w-5 text-primary"
                                data-lov-id="src/components/QuickActionsWidget.tsx:61:12" data-lov-name="Activity"
                                data-component-path="src/components/QuickActionsWidget.tsx" data-component-line="61"
                                data-component-file="QuickActionsWidget.tsx" data-component-name="Activity"
                                data-component-content="%7B%22className%22%3A%22h-5%20w-5%20text-primary%22%7D">
                                <path
                                    d="M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2">
                                </path>
                            </svg></span>
                            <h3>Quick Actions</h3>
                        </div>
                        <p class="section-subtitle">Common tasks you can perform instantly</p>

                        <div class="action-buttons">
                            <a href="Add_Members/enroll_members.html" class="action-bt primary">
                                <span>
                                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                                        stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                                        class="lucide lucide-user-plus h-4 w-4 mr-2">
                                        <path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"></path>
                                        <circle cx="9" cy="7" r="4"></circle>
                                        <line x1="19" x2="19" y1="8" y2="14"></line>
                                        <line x1="22" x2="16" y1="11" y2="11"></line>
                                    </svg>
                                </span>
                                <span>Add New Member</span>
                            </a>
                            <a href="Add_Event/New_Event.html" class="action-bt">
                                <span>
                                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="orange"
                                        stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                                        class="lucide lucide-calendar-plus h-4 w-4 mr-2">
                                        <path d="M8 2v4"></path>
                                        <path d="M16 2v4"></path>
                                        <path d="M21 13V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h8"></path>
                                        <path d="M3 10h18"></path>
                                        <path d="M16 19h6"></path>
                                        <path d="M19 16v6"></path>
                                    </svg>
                                </span>
                                <span>Schedule Event</span>
                            </a>
 
                            <a href="Record_Donations/record_donations.html" class="action-bt">
                                <span>
                                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="blue"
                                        stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                                        class="lucide lucide-credit-card h-4 w-4 mr-2">
                                        <rect width="20" height="14" x="2" y="5" rx="2"></rect>
                                        <line x1="2" x2="22" y1="10" y2="10"></line>
                                    </svg>
                                </span>
                                <span>Record Donation</span>
                            </a>
                            <a href="send_message.php" class="action-bt">
                                <span>
                                    <svg xmlns="http://www.w3.org/2000/svg" class="action-icon" viewBox="0 0 24 24" fill="none" stroke="green"
                                        stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                        <path
                                            d="M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z">
                                        </path>
                                        <path d="m21.854 2.147-10.94 10.939"></path>
                                    </svg>
                                </span>
                                <span>Send Message</span>
                            </a>
                            <style>
                                .action-bt {
                                  text-decoration: none;
                                  color: inherit;
                                }

                            </style>  



                           

                            
                        </div>
                    </div>

                    <div class="membership-overview">
                        <div class="section-header">
                            <h3>Membership Overview</h3>
                        </div>
                        <p class="section-subtitle">Current membership distribution</p>
                    
                        <div class="donut-container">
                            <canvas id="membershipChart"></canvas>
                        </div>
                    
                        <div class="membership-legend">
                            <div class="legend-item">
                                <div class="legend-label">
                                    <span class="legend-dot" style="background: #3b82f6;"></span>
                                    <span>Active Members</span>
                                </div>
                                <span class="legend-value">0</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-label">
                                    <span class="legend-dot" style="background: #10b981;"></span>
                                    <span>Inactive Members</span>
                                </div>
                                <span class="legend-value">0</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-label">
                                    <span class="legend-dot" style="background: #f59e0b;"></span>
                                   <span>Visitors</span>
                                </div>
                                <span class="legend-value">0</span>
                            </div>
                           
                        </div>
                    </div>


                    <!-- Upcoming Events -->
                    <div class="upcoming-events">
                        <div class="section-header">
                            <h3>Upcoming Events</h3>
                        </div>
                        
                        <div class="events-list" id="upcomingEventsList">
                            <!-- Events will be loaded dynamically from database -->
                            <div class="event-item" style="text-align: center; padding: 20px;">
                                <p style="color: #94a3b8;">Loading upcoming events...</p>
                            </div>
                        </div>

                        <a href="Events/events.html" class="view-all-link">
                            <span>View All Events</span>
                            <span>→</span>
                        </a>
                    </div>
                </div>

                <!-- Bottom Section: Recent Activity & Monthly Goals -->
                <div class="bottom-section-grid">
                    <!-- Recent Activity -->
                    <div class="recent-activity">
                        <div class="section-header">
                            <span style="font-size: 20px;"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#3b82f6"
                                stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-clock h-5 w-5 text-primary"
                                data-lov-id="src/components/QuickActionsWidget.tsx:104:12" data-lov-name="Clock"
                                data-component-path="src/components/QuickActionsWidget.tsx" data-component-line="104"
                                data-component-file="QuickActionsWidget.tsx" data-component-name="Clock"
                                data-component-content="%7B%22className%22%3A%22h-5%20w-5%20text-primary%22%7D">
                                <circle cx="12" cy="12" r="10"></circle>
                                <polyline points="12 6 12 12 16 14"></polyline>
                            </svg></span>
                            <h3>Recent Activity</h3>
                        </div>
                        <p class="section-subtitle">Latest actions performed in the system</p>

                        <div class="activity-list" id="activityList">
                            <!-- Activities will be loaded dynamically from database -->
                            <div class="activity-item" style="text-align: center; padding: 20px;">
                                <p style="color: #94a3b8;">Loading recent activities...</p>
                            </div>
                        </div>
                    </div>

                    <!-- Monthly Goals -->
                    <div class="monthly-goals">
                        <div class="section-header">
                            <span style="font-size: 20px;"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="blue"
                                stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-target h-5 w-5 text-primary"
                                data-lov-id="src/components/QuickActionsWidget.tsx:162:12" data-lov-name="Target"
                                data-component-path="src/components/QuickActionsWidget.tsx" data-component-line="162"
                                data-component-file="QuickActionsWidget.tsx" data-component-name="Target"
                                data-component-content="%7B%22className%22%3A%22h-5%20w-5%20text-primary%22%7D">
                                <circle cx="12" cy="12" r="10"></circle>
                                <circle cx="12" cy="12" r="6"></circle>
                                <circle cx="12" cy="12" r="2"></circle>
                            </svg></span>
                            <h3>Monthly Goals</h3>
                        </div>
                        <p class="section-subtitle">Track progress toward your monthly targets</p>

                        <div class="goals-list">
                            <div class="goal-item">
                                <div class="goal-header">
                                    <span class="goal-title">New Members</span>
                                    <span class="goal-value">67 / 50</span>
                                </div>
                                <div class="progress-bar">
                                    <div class="progress-fill" style="width: 100%; background: #10b981;"></div>
                                </div>
                                <p class="goal-status success">Goal exceeded! 134% completed</p>
                            </div>

                            <div class="goal-item">
                                <div class="goal-header">
                                    <span class="goal-title">Monthly Donations</span>
                                    <span class="goal-value">$19.8K / $20K</span>
                                </div>
                                <div class="progress-bar">
                                    <div class="progress-fill" style="width: 99%; background: #3b82f6;"></div>
                                </div>
                                <p class="goal-status">Almost there! 99% completed</p>
                            </div>

                            <div class="goal-item">
                                <div class="goal-header">
                                    <span class="goal-title">Event Attendance</span>
                                    <span class="goal-value">356 / 400</span>
                                </div>
                                <div class="progress-bar">
                                    <div class="progress-fill" style="width: 89%; background: #3b82f6;"></div>
                                </div>
                                <p class="goal-status">89% completed</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js"></script>
    <script>
        // Global chart variables
        let attendanceChart, donationChart, membershipChart;

        // Fetch dashboard statistics from the database
        async function fetchDashboardStats() {
            try {
                const response = await fetch('get_dashboard_stats.php');
                const result = await response.json();
                
                if (result.success) {
                    updateDashboard(result.data);
                } else {
                    console.error('Error fetching dashboard stats:', result.message);
                }
            } catch (error) {
                console.error('Error:', error);
            }
        }

        // Update dashboard with real-time data
        function updateDashboard(data) {
            // Update stat cards
            document.querySelector('.stat-card:nth-child(1) .stat-value').textContent = data.total_members || 0;
            document.querySelector('.stat-card:nth-child(1) .stat-change').textContent = '+' + (data.members_change || 0);
            
            document.querySelector('.stat-card:nth-child(2) .stat-value').textContent = data.total_events || 0;
            document.querySelector('.stat-card:nth-child(2) .stat-change').textContent = '+' + (data.events_change || 0);
            
            // Format income
            const income = data.total_income || 0;
            const incomeFormatted = income >= 1000 ? 'GH₵' + (income / 1000).toFixed(1) + 'K' : 'GH₵' + income;
            document.querySelector('.stat-card:nth-child(3) .stat-value').textContent = incomeFormatted;
            document.querySelector('.stat-card:nth-child(3) .stat-change').textContent = (data.income_change_percent >= 0 ? '+' : '') + (data.income_change_percent || 0) + '%';
            
            document.querySelector('.stat-card:nth-child(4) .stat-value').textContent = data.total_messages || 0;
            document.querySelector('.stat-card:nth-child(4) .stat-change').textContent = '+' + (data.messages_change || 0);

            // Update membership overview
            const legendValues = document.querySelectorAll('.membership-legend .legend-value');
            if (legendValues[0]) legendValues[0].textContent = data.active_members || 0;
            if (legendValues[1]) legendValues[1].textContent = data.inactive_members || 0;
            if (legendValues[2]) legendValues[2].textContent = data.visitors || 0;

            // Update monthly goals
            const goalItems = document.querySelectorAll('.goal-item');
            
            // New Members Goal
            if (goalItems[0]) {
                const newMembersGoal = data.new_members_goal || 50;
                const newMembersActual = data.new_members_month || 0;
                const newMembersPercent = data.new_members_percent || 0;
                
                goalItems[0].querySelector('.goal-value').textContent = newMembersActual + ' / ' + newMembersGoal;
                goalItems[0].querySelector('.progress-fill').style.width = Math.min(newMembersPercent, 100) + '%';
                
                if (newMembersPercent >= 100) {
                    goalItems[0].querySelector('.goal-status').textContent = 'Goal exceeded! ' + newMembersPercent + '% completed';
                    goalItems[0].querySelector('.goal-status').className = 'goal-status success';
                    goalItems[0].querySelector('.progress-fill').style.background = '#10b981';
                } else {
                    goalItems[0].querySelector('.goal-status').textContent = newMembersPercent + '% completed';
                    goalItems[0].querySelector('.goal-status').className = 'goal-status';
                    goalItems[0].querySelector('.progress-fill').style.background = '#3b82f6';
                }
            }
            
            // Monthly Donations Goal
            if (goalItems[1]) {
                const donationsGoal = data.donations_goal || 20000;
                const donationsActual = data.monthly_donations || 0;
                const donationsPercent = data.donations_percent || 0;
                const donationsFormatted = donationsActual >= 1000 ? 'GH₵' + (donationsActual / 1000).toFixed(1) + 'K' : 'GH₵' + donationsActual;
                const donationsGoalFormatted = donationsGoal >= 1000 ? 'GH₵' + (donationsGoal / 1000).toFixed(0) + 'K' : 'GH₵' + donationsGoal;
                
                goalItems[1].querySelector('.goal-value').textContent = donationsFormatted + ' / ' + donationsGoalFormatted;
                goalItems[1].querySelector('.progress-fill').style.width = Math.min(donationsPercent, 100) + '%';
                
                if (donationsPercent >= 100) {
                    goalItems[1].querySelector('.goal-status').textContent = 'Goal exceeded! ' + donationsPercent + '% completed';
                    goalItems[1].querySelector('.goal-status').className = 'goal-status success';
                } else if (donationsPercent >= 90) {
                    goalItems[1].querySelector('.goal-status').textContent = 'Almost there! ' + donationsPercent + '% completed';
                } else {
                    goalItems[1].querySelector('.goal-status').textContent = donationsPercent + '% completed';
                }
            }
            
            // Event Attendance Goal
            if (goalItems[2]) {
                const attendanceGoal = data.attendance_goal || 400;
                const attendanceActual = data.event_attendance_month || 0;
                const attendancePercent = data.attendance_percent || 0;
                
                goalItems[2].querySelector('.goal-value').textContent = attendanceActual + ' / ' + attendanceGoal;
                goalItems[2].querySelector('.progress-fill').style.width = Math.min(attendancePercent, 100) + '%';
                goalItems[2].querySelector('.goal-status').textContent = attendancePercent + '% completed';
            }

            // Update charts
            updateCharts(data);
        }

        // Update all charts with real data
        function updateCharts(data) {
            // Attendance Chart - use attendance trends data
            const attendanceTrends = data.attendance_trends || [];
            const attendanceLabels = attendanceTrends.map(t => t.month);
            const attendanceData = attendanceTrends.map(t => t.attendance);
            
            if (attendanceChart) {
                attendanceChart.data.labels = attendanceLabels;
                attendanceChart.data.datasets[0].data = attendanceData;
                attendanceChart.update();
            } else {
                const attendanceCtx = document.getElementById('attendanceChart').getContext('2d');
                attendanceChart = new Chart(attendanceCtx, {
                    type: 'line',
                    data: {
                        labels: attendanceLabels,
                        datasets: [{
                            label: 'Actual Attendance',
                            data: attendanceData,
                            borderColor: '#3b82f6',
                            backgroundColor: 'rgba(59, 130, 246, 0.1)',
                            tension: 0.4,
                            fill: true,
                            pointRadius: 5,
                            pointBackgroundColor: '#3b82f6'
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: {
                                display: true,
                                position: 'bottom'
                            }
                        },
                        scales: {
                            y: {
                                beginAtZero: true
                            }
                        }
                    }
                });
            }

            // Donation Chart - use financial trends data
            const financialTrends = data.financial_trends || [];
            const donationLabels = financialTrends.map(t => t.month);
            const donationData = financialTrends.map(t => t.amount);
            
            if (donationChart) {
                donationChart.data.labels = donationLabels;
                donationChart.data.datasets[0].data = donationData;
                donationChart.update();
            } else {
                const donationCtx = document.getElementById('donationChart').getContext('2d');
                donationChart = new Chart(donationCtx, {
                    type: 'bar',
                    data: {
                        labels: donationLabels,
                        datasets: [{
                            label: 'Income',
                            data: donationData,
                            backgroundColor: '#3b82f6',
                            borderRadius: 6
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: {
                                display: false
                            }
                        },
                        scales: {
                            y: {
                                beginAtZero: true,
                                ticks: {
                                    callback: function (value) {
                                        return 'GH₵' + value.toLocaleString();
                                    }
                                }
                            }
                        }
                    }
                });
            }

            // Membership Donut Chart
            const membershipData = [
                data.active_members || 0,
                data.inactive_members || 0,
                data.visitors || 0
            ];
            
            if (membershipChart) {
                membershipChart.data.datasets[0].data = membershipData;
                membershipChart.update();
            } else {
                const membershipCtx = document.getElementById('membershipChart').getContext('2d');
                membershipChart = new Chart(membershipCtx, {
                    type: 'doughnut',
                    data: {
                        labels: ['Active Members', 'Inactive Members', 'Visitors'],
                        datasets: [{
                            data: membershipData,
                            backgroundColor: [
                                '#3b82f6',
                                '#10b981',
                                '#f59e0b'
                            ],
                            borderWidth: 0
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: {
                                display: false
                            }
                        },
                        cutout: '70%'
                    }
                });
            }
        }

        // Fetch recent activities from database
        async function fetchRecentActivities() {
            try {
                const response = await fetch('get_recent_activities.php?limit=4');
                const result = await response.json();
                
                if (result.success && result.data.length > 0) {
                    updateActivities(result.data);
                } else {
                    // Show no activities message
                    document.getElementById('activityList').innerHTML = `
                        <div class="activity-item" style="text-align: center; padding: 20px;">
                            <p style="color: #94a3b8;">No recent activities</p>
                        </div>
                    `;
                }
            } catch (error) {
                console.error('Error fetching activities:', error);
            }
        }

        // Update activities display
        function updateActivities(activities) {
            const activityList = document.getElementById('activityList');
            activityList.innerHTML = '';
            
            activities.forEach(activity => {
                const activityItem = createActivityItem(activity);
                activityList.appendChild(activityItem);
            });
        }

        // Create activity item HTML
        function createActivityItem(activity) {
            const div = document.createElement('div');
            div.className = 'activity-item';
            
            // Get icon and color based on activity type
            const iconInfo = getActivityIcon(activity.icon_type || activity.type);
            
            div.innerHTML = `
                <div class="activity-icon" style="${iconInfo.style}">
                    <span>${iconInfo.svg}</span>
                </div>
                <div class="activity-content">
                    <h4>${activity.title}</h4>
                    <p>${activity.description}</p>
                </div>
                <span class="activity-time">${activity.time_ago}</span>
            `;
            
            return div;
        }

        // Get icon SVG based on activity type
        function getActivityIcon(type) {
            const icons = {
                'member': {
                    style: 'background: #dbeafe; color: #3b82f6;',
                    svg: `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"></path>
                        <circle cx="9" cy="7" r="4"></circle>
                        <line x1="19" x2="19" y1="8" y2="14"></line>
                        <line x1="22" x2="16" y1="11" y2="11"></line>
                    </svg>`
                },
                'donation': {
                    style: 'background: #d1fae5; color: #10b981;',
                    svg: `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <rect width="20" height="14" x="2" y="5" rx="2"></rect>
                        <line x1="2" x2="22" y1="10" y2="10"></line>
                    </svg>`
                },
                'event': {
                    style: 'background: #fed7aa; color: #f59e0b;',
                    svg: `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <path d="M8 2v4"></path>
                        <path d="M16 2v4"></path>
                        <path d="M21 13V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h8"></path>
                        <path d="M3 10h18"></path>
                        <path d="M16 19h6"></path>
                        <path d="M19 16v6"></path>
                    </svg>`
                },
                'message': {
                    style: 'background: #fef3c7; color: #f59e0b;',
                    svg: `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <path d="M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z"></path>
                        <path d="m21.854 2.147-10.94 10.939"></path>
                    </svg>`
                },
                'birthday': {
                    style: 'background: #fce7f3; color: #ec4899;',
                    svg: `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <path d="M20 21v-8a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v8"></path>
                        <path d="M4 16s.5-1 2-1 2.5 2 4 2 2.5-2 4-2 2.5 2 4 2 2-1 2-1"></path>
                        <path d="M2 21h20"></path>
                        <path d="M7 8v3"></path>
                        <path d="M12 8v3"></path>
                        <path d="M17 8v3"></path>
                        <path d="M7 4h.01"></path>
                        <path d="M12 4h.01"></path>
                        <path d="M17 4h.01"></path>
                    </svg>`
                }
            };
            
            return icons[type] || icons['member'];
        }

        // Fetch upcoming events from database
        async function fetchUpcomingEvents() {
            try {
                const response = await fetch('get_upcoming_events.php?limit=5');
                const result = await response.json();
                
                if (result.success && result.data.length > 0) {
                    updateUpcomingEvents(result.data);
                } else {
                    // Show no events message
                    document.getElementById('upcomingEventsList').innerHTML = `
                        <div class="event-item" style="text-align: center; padding: 20px;">
                            <p style="color: #94a3b8;">No upcoming events scheduled</p>
                        </div>
                    `;
                }
            } catch (error) {
                console.error('Error fetching upcoming events:', error);
            }
        }

        // Update upcoming events display
        function updateUpcomingEvents(events) {
            const eventsList = document.getElementById('upcomingEventsList');
            eventsList.innerHTML = '';
            
            events.forEach(event => {
                const eventItem = createEventItem(event);
                eventsList.appendChild(eventItem);
            });
        }

        // Create event item HTML
        function createEventItem(event) {
            const div = document.createElement('div');
            div.className = 'event-item';
            
            const attendanceText = event.attendance > 0 
                ? `${event.attendance} attending` 
                : 'No registrations yet';
            
            div.innerHTML = `
                <div class="event-info">
                    <span class="event-dot" style="background: ${event.color};"></span>
                    <div class="event-details">
                        <h4>${event.name}</h4>
                        <p>${event.date_display}, ${event.time_display}</p>
                    </div>
                </div>
                <span class="event-attendance">${attendanceText}</span>
            `;
            
            return div;
        }

        // Fetch AI-Powered Insights
        async function fetchInsights() {
            try {
                const response = await fetch('get_insights.php');
                const result = await response.json();
                
                if (result.success && result.data.length > 0) {
                    updateInsights(result.data);
                } else {
                    document.getElementById('insightsGrid').innerHTML = `
                        <div class="insight-card" style="text-align: center; padding: 20px;">
                            <p style="color: #94a3b8;">No insights available</p>
                        </div>
                    `;
                }
            } catch (error) {
                console.error('Error fetching insights:', error);
            }
        }

        // Update insights display
        function updateInsights(insights) {
            const insightsGrid = document.getElementById('insightsGrid');
            insightsGrid.innerHTML = '';
            
            insights.forEach(insight => {
                const insightCard = createInsightCard(insight);
                insightsGrid.appendChild(insightCard);
            });
        }

        // Create insight card HTML
        function createInsightCard(insight) {
            const div = document.createElement('div');
            div.className = `insight-card ${insight.type}`;
            
            const iconSVG = getInsightIcon(insight.icon, insight.type);
            
            div.innerHTML = `
                <span class="insight-icon">${iconSVG}</span>
                <span class="insight-text">${insight.text}</span>
            `;
            
            return div;
        }

        // Get insight icon SVG
        function getInsightIcon(iconType, cardType) {
            const colors = {
                'success': '#10b981',
                'warning': '#f59e0b',
                'info': '#3b82f6',
                'danger': '#ef4444'
            };
            const color = colors[cardType] || '#3b82f6';
            
            const icons = {
                'trending-up': `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="${color}" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="22 7 13.5 15.5 8.5 10.5 2 17"></polyline><polyline points="16 7 22 7 22 13"></polyline></svg>`,
                'trending-down': `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="${color}" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="22 17 13.5 8.5 8.5 13.5 2 7"></polyline><polyline points="16 17 22 17 22 11"></polyline></svg>`,
                'alert': `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="${color}" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"></circle><line x1="12" x2="12" y1="8" y2="12"></line><line x1="12" x2="12.01" y1="16" y2="16"></line></svg>`,
                'users': `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="${color}" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"></path><circle cx="9" cy="7" r="4"></circle><path d="M22 21v-2a4 4 0 0 0-3-3.87"></path><path d="M16 3.13a4 4 0 0 1 0 7.75"></path></svg>`,
                'calendar': `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="${color}" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect width="18" height="18" x="3" y="4" rx="2" ry="2"></rect><line x1="16" x2="16" y1="2" y2="6"></line><line x1="8" x2="8" y1="2" y2="6"></line><line x1="3" x2="21" y1="10" y2="10"></line></svg>`,
                'dollar': `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="${color}" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="12" x2="12" y1="2" y2="22"></line><path d="M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"></path></svg>`,
                'message': `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="${color}" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path></svg>`
            };
            
            return icons[iconType] || icons['alert'];
        }

        // Load dashboard data on page load
        document.addEventListener('DOMContentLoaded', function() {
            fetchDashboardStats();
            fetchRecentActivities();
            fetchUpcomingEvents();
            fetchInsights();
            
            // Refresh data every 30 seconds
            setInterval(fetchDashboardStats, 30000);
            setInterval(fetchRecentActivities, 30000);
            setInterval(fetchUpcomingEvents, 30000);
            setInterval(fetchInsights, 30000);
        });
    </script>
</body>

</html>